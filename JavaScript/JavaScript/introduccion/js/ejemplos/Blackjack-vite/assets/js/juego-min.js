const BlackJack=(()=>{"use strict";let e=[],a=["S","D","H","C"],t=["K","J","A","Q"],r=[],l=document.querySelector("#llamar_card"),s=document.querySelector("#stop"),n=document.querySelector("#recet_game"),o=document.querySelectorAll("h5"),d=document.querySelectorAll(".cartas_div"),c=(a=2)=>{e=i(),r=[];for(let t=0;t<a;t++)r.push(0);o.forEach(e=>e.innerText="0"),d.forEach(e=>e.innerText=""),s.disabled=!1,l.disabled=!1},i=()=>{e=[];for(let r=2;r<=10;r++)for(let l of a)e.push(r+l);for(let s of a)for(let n of t)e.push(n+s);return _.shuffle(e)},u=()=>{if(0===e.length)throw"No existen cartas suficientes para llamar";return e.pop()},p=e=>{let a=e.substring(0,e.length-1);return isNaN(a)?"A"===a?11:10:1*a},m=(e,a)=>(r[a]=r[a]+p(e),o[a].innerText=r[a],r[a]),$=(e,a)=>{let t=document.createElement("div");t.classList.add("col-6");let r=document.createElement("img");r.src=`./img/cartas/${e}.png`,r.classList.add("carta","p-3"),d[a].append(t),t.append(r)},h=()=>{let[e,a]=r;setTimeout(()=>{a===e?alert("\xa1Hay un empate!"):e>21?alert("\xa1La Computadora Gana! Te has pasado de 21."):a>21?alert("\xa1Ganaste! La computadora se ha pasado de 21."):21===e&&21===a?alert("Es un empate con Blackjack."):21===e?alert("\xa1Blackjack! Ganaste."):21===a?alert("\xa1La Computadora tiene Blackjack! Pierdes."):a>e?alert("\xa1La Computadora Gana! Su puntuaci\xf3n es mayor."):e>a?alert("\xa1Ganaste! Tu puntuaci\xf3n es mayor que la de la computadora."):alert("\xa1La Computadora Gana!")},10)},f=e=>{let a=0;do{let t=u();a=m(t,r.length-1),$(t,r.length-1)}while(a<e&&e<=21);h()};return l.addEventListener("click",()=>{let e=u(),a=m(e,0);$(e,0),a>21?(console.warn("Tus puntos son mayores a 21,"),console.warn("Perdiste"),l.disabled=!0,f(a)):21===a&&(s.disabled=!0,console.warn("21 awesome"),f(a))}),s.addEventListener("click",()=>{s.disabled=!0,l.disabled=!0,f(r[0])}),n.addEventListener("click",()=>{console.clear(),c()}),{desdeCero:c}})();